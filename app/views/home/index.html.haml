%hr
.grid-container
  .grid-x.grid-padding-x
    .small-3.cell
      %b Name
    .small-2.cell
      %b Amount
    .small-4.cell
      %b Description
    .small-2.cell
      %b Transfer
    .small-1.cell
      %b Action
%hr
- @transactions.each do |transaction|
  = form_with(model: transaction, remote: true) do |f|
    - if transaction.errors.any?
      #error_explanation
        %h2= "#{pluralize(transaction.errors.count, "error")} prohibited this transaction from being saved:"
        %ul
          - transaction.errors.full_messages.each do |message|
            %li= message
    .grid-container
      .grid-x.grid-padding-x
        .small-3.cell
          - if transaction.transaction_purpose.present?
            %label= transaction.transaction_purpose.name
          - else
            = f.collection_select :transaction_purpose_id, TransactionPurpose.all, :id, :name, id: :transaction_purpose_id
        .small-2.cell
          %label
            = f.amount_field :amount, id: :transaction_amount, currency: '&#8377;'
        .small-4.cell
          %label
            = f.text_field :description, id: :transaction_description
        .small-2.cell
          %label
            = f.collection_select :transfer_id, Transfer.all, :id, :name, id: :transaction_transfer_id
        .small-1.cell
          %label
            = f.submit transaction.new_record? ? 'Create' : 'Update', class: 'button success'
  %hr
